<?php Pi::service('i18n')->load(['module/message', 'default']); ?>

<div>
    <?php if (!empty($block['list'])) { ?>
        <?php foreach ($block['list'] as $singleMessage) { ?>
            <div class="messages col-md-12" id="message-js">
                <div class="row justify-content-between">
                    <h5 class="float-left">
                        <span><?php echo $block['uid'] == $singleMessage['uid_from'] ? __('Message To') : __('Message From'); ?></span>
                        <a href="<?php echo $singleMessage['profileUrl']; ?>"><?php echo $singleMessage['name']; ?></a>
                    </h5>
                    <?php if ($singleMessage['is_deleted_from']) { ?>
                        &nbsp;<span class="badge badge-danger"><?php _e('deleted by emitter') ?></span>
                    <?php } ?>
                    <?php if ($singleMessage['is_deleted_to']) { ?>
                        &nbsp;<span class="badge badge-danger"><?php _e('deleted by recipient') ?></span>
                    <?php } ?>
                    <div class="float-right">
                        <span class="muted"><?php echo _date($singleMessage['time_send']); ?></span>
                    </div>
                </div>
                <div class="media message-detail-primary">
                    <a href="<?php echo $singleMessage['profileUrl']; ?>" class="float-left  mr-2">
                        <?php echo $singleMessage['avatar']; ?>
                    </a>
                    <div class="media-body message-detail-con">
                        <p><?php echo $singleMessage['content']; ?></p>
                    </div>
                </div>
            </div>
            <hr/>
        <?php } ?>
    <?php } ?>
</div>
